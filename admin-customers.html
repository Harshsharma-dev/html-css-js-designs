<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customers - SubCater Admin</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="admin-styles.css">
    <link rel="stylesheet" href="admin-customers.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Reuse Sidebar from Dashboard -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <i class="fas fa-utensils"></i>
                <span>SubCater Admin</span>
            </div>
            <button class="sidebar-toggle" onclick="toggleSidebar()">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        
        <nav class="sidebar-nav">
            <a href="admin-dashboard.html" class="nav-item">
                <i class="fas fa-tachometer-alt"></i>
                <span>Dashboard</span>
            </a>
            <a href="admin-orders.html" class="nav-item">
                <i class="fas fa-shopping-cart"></i>
                <span>Orders</span>
                <span class="badge">12</span>
            </a>
            <a href="admin-restaurants.html" class="nav-item">
                <i class="fas fa-store"></i>
                <span>Restaurants</span>
            </a>
            <a href="admin-partners.html" class="nav-item">
                <i class="fas fa-motorcycle"></i>
                <span>Delivery Partners</span>
            </a>
            <a href="#" class="nav-item active">
                <i class="fas fa-users"></i>
                <span>Customers</span>
            </a>
            <a href="admin-analytics.html" class="nav-item">
                <i class="fas fa-chart-bar"></i>
                <span>Analytics</span>
            </a>
            <a href="admin-settings.html" class="nav-item">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </a>
        </nav>
        
        <div class="sidebar-footer">
            <div class="admin-profile">
                <img src="https://ui-avatars.com/api/?name=Admin&background=FF9800&color=fff" alt="Admin">
                <div class="admin-info">
                    <span class="admin-name">John Admin</span>
                    <span class="admin-role">Super Admin</span>
                </div>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Top Bar -->
        <header class="topbar">
            <div class="topbar-left">
                <h1>Customer Management</h1>
                <span class="breadcrumb">Home / Customers</span>
            </div>
            
            <div class="topbar-right">
                <button class="btn btn-primary" onclick="sendBroadcast()">
                    <i class="fas fa-bullhorn"></i>
                    Send Broadcast
                </button>
                
                <!-- Notifications -->
                <div class="notification-wrapper">
                    <button class="icon-btn">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">5</span>
                    </button>
                </div>
                
                <!-- Admin Menu -->
                <div class="admin-menu">
                    <button class="admin-btn">
                        <img src="https://ui-avatars.com/api/?name=John+Admin&background=FF9800&color=fff" alt="Admin">
                        <i class="fas fa-chevron-down"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- Customers Content -->
        <div class="customers-content">
            <!-- Stats Cards -->
            <div class="customer-stats">
                <div class="stat-card">
                    <div class="stat-icon primary">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-content">
                        <h3>Total Customers</h3>
                        <div class="stat-value">12,847</div>
                        <div class="stat-change positive">
                            <i class="fas fa-arrow-up"></i>
                            <span>523 new this month</span>
                        </div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon success">
                        <i class="fas fa-user-check"></i>
                    </div>
                    <div class="stat-content">
                        <h3>Active Users</h3>
                        <div class="stat-value">8,592</div>
                        <div class="stat-change">
                            <span>67% of total</span>
                        </div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon warning">
                        <i class="fas fa-crown"></i>
                    </div>
                    <div class="stat-content">
                        <h3>VIP Customers</h3>
                        <div class="stat-value">342</div>
                        <div class="stat-change">
                            <span>High value users</span>
                        </div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon info">
                        <i class="fas fa-dollar-sign"></i>
                    </div>
                    <div class="stat-content">
                        <h3>Avg. Order Value</h3>
                        <div class="stat-value">$38.50</div>
                        <div class="stat-change positive">
                            <i class="fas fa-arrow-up"></i>
                            <span>5% increase</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Filters and Search -->
            <div class="filters-section">
                <div class="filters-row">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="Search by name, email, phone...">
                    </div>
                    
                    <div class="filter-buttons">
                        <select class="filter-select">
                            <option value="">All Customers</option>
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                            <option value="vip">VIP</option>
                        </select>
                        
                        <select class="filter-select">
                            <option value="">Order History</option>
                            <option value="new">New Customer</option>
                            <option value="regular">Regular (5+ orders)</option>
                            <option value="frequent">Frequent (20+ orders)</option>
                        </select>
                        
                        <button class="filter-btn" onclick="exportCustomers()">
                            <i class="fas fa-download"></i>
                            Export
                        </button>
                    </div>
                </div>
            </div>

            <!-- Customers Table -->
            <div class="customers-table-container">
                <table class="customers-table">
                    <thead>
                        <tr>
                            <th>
                                <input type="checkbox" id="selectAll">
                            </th>
                            <th>Customer</th>
                            <th>Contact</th>
                            <th>Location</th>
                            <th>Orders</th>
                            <th>Total Spent</th>
                            <th>Last Order</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Customer Row 1 - VIP -->
                        <tr class="customer-row">
                            <td>
                                <input type="checkbox" class="customer-checkbox">
                            </td>
                            <td class="customer-cell">
                                <div class="customer-info">
                                    <img src="https://ui-avatars.com/api/?name=Sarah+Johnson&background=FF9800&color=fff" alt="Customer">
                                    <div>
                                        <div class="customer-name">
                                            Sarah Johnson
                                            <span class="vip-badge"><i class="fas fa-crown"></i> VIP</span>
                                        </div>
                                        <div class="customer-id">#CUS-10234</div>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="contact-info">
                                    <div class="contact-item">
                                        <i class="fas fa-phone"></i>
                                        <span>555-0123</span>
                                    </div>
                                    <div class="contact-item">
                                        <i class="fas fa-envelope"></i>
                                        <span>sarah.j@email.com</span>
                                    </div>
                                </div>
                            </td>
                            <td>Boston, MA</td>
                            <td class="orders-count">45</td>
                            <td class="amount">$2,340.50</td>
                            <td>2 hours ago</td>
                            <td>
                                <span class="status-badge active">Active</span>
                            </td>
                            <td class="actions-cell">
                                <button class="action-btn" onclick="viewCustomerDetails('CUS-10234')" title="View Details">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="action-btn" onclick="contactCustomer('555-0123', 'call')" title="Call">
                                    <i class="fas fa-phone"></i>
                                </button>
                                <button class="action-btn" onclick="contactCustomer('sarah.j@email.com', 'email')" title="Email">
                                    <i class="fas fa-envelope"></i>
                                </button>
                                <button class="action-btn" onclick="viewOrderHistory('CUS-10234')" title="Order History">
                                    <i class="fas fa-history"></i>
                                </button>
                            </td>
                        </tr>
                        
                        <!-- Customer Row 2 -->
                        <tr class="customer-row">
                            <td>
                                <input type="checkbox" class="customer-checkbox">
                            </td>
                            <td class="customer-cell">
                                <div class="customer-info">
                                    <img src="https://ui-avatars.com/api/?name=Mike+Chen&background=2196F3&color=fff" alt="Customer">
                                    <div>
                                        <div class="customer-name">Mike Chen</div>
                                        <div class="customer-id">#CUS-10235</div>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="contact-info">
                                    <div class="contact-item">
                                        <i class="fas fa-phone"></i>
                                        <span>555-0124</span>
                                    </div>
                                    <div class="contact-item">
                                        <i class="fas fa-envelope"></i>
                                        <span>mike.c@email.com</span>
                                    </div>
                                </div>
                            </td>
                            <td>Cambridge, MA</td>
                            <td class="orders-count">12</td>
                            <td class="amount">$456.80</td>
                            <td>Yesterday</td>
                            <td>
                                <span class="status-badge active">Active</span>
                            </td>
                            <td class="actions-cell">
                                <button class="action-btn" onclick="viewCustomerDetails('CUS-10235')" title="View Details">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="action-btn" onclick="contactCustomer('555-0124', 'call')" title="Call">
                                    <i class="fas fa-phone"></i>
                                </button>
                                <button class="action-btn" onclick="contactCustomer('mike.c@email.com', 'email')" title="Email">
                                    <i class="fas fa-envelope"></i>
                                </button>
                                <button class="action-btn" onclick="viewOrderHistory('CUS-10235')" title="Order History">
                                    <i class="fas fa-history"></i>
                                </button>
                            </td>
                        </tr>
                        
                        <!-- Customer Row 3 - New -->
                        <tr class="customer-row">
                            <td>
                                <input type="checkbox" class="customer-checkbox">
                            </td>
                            <td class="customer-cell">
                                <div class="customer-info">
                                    <img src="https://ui-avatars.com/api/?name=Emma+Wilson&background=9C27B0&color=fff" alt="Customer">
                                    <div>
                                        <div class="customer-name">
                                            Emma Wilson
                                            <span class="new-badge">New</span>
                                        </div>
                                        <div class="customer-id">#CUS-10236</div>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="contact-info">
                                    <div class="contact-item">
                                        <i class="fas fa-phone"></i>
                                        <span>555-0125</span>
                                    </div>
                                    <div class="contact-item">
                                        <i class="fas fa-envelope"></i>
                                        <span>emma.w@email.com</span>
                                    </div>
                                </div>
                            </td>
                            <td>Somerville, MA</td>
                            <td class="orders-count">1</td>
                            <td class="amount">$67.80</td>
                            <td>3 days ago</td>
                            <td>
                                <span class="status-badge active">Active</span>
                            </td>
                            <td class="actions-cell">
                                <button class="action-btn" onclick="viewCustomerDetails('CUS-10236')" title="View Details">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="action-btn" onclick="contactCustomer('555-0125', 'call')" title="Call">
                                    <i class="fas fa-phone"></i>
                                </button>
                                <button class="action-btn" onclick="contactCustomer('emma.w@email.com', 'email')" title="Email">
                                    <i class="fas fa-envelope"></i>
                                </button>
                                <button class="action-btn" onclick="sendWelcomeOffer('CUS-10236')" title="Send Welcome Offer">
                                    <i class="fas fa-gift"></i>
                                </button>
                            </td>
                        </tr>
                        
                        <!-- Customer Row 4 - Inactive -->
                        <tr class="customer-row inactive">
                            <td>
                                <input type="checkbox" class="customer-checkbox">
                            </td>
                            <td class="customer-cell">
                                <div class="customer-info">
                                    <img src="https://ui-avatars.com/api/?name=Robert+Lee&background=607D8B&color=fff" alt="Customer">
                                    <div>
                                        <div class="customer-name">Robert Lee</div>
                                        <div class="customer-id">#CUS-10237</div>
                                    </div>
                                </div>
                            </td>
                            <td>
                                <div class="contact-info">
                                    <div class="contact-item">
                                        <i class="fas fa-phone"></i>
                                        <span>555-0126</span>
                                    </div>
                                    <div class="contact-item">
                                        <i class="fas fa-envelope"></i>
                                        <span>robert.l@email.com</span>
                                    </div>
                                </div>
                            </td>
                            <td>Boston, MA</td>
                            <td class="orders-count">8</td>
                            <td class="amount">$234.60</td>
                            <td>2 months ago</td>
                            <td>
                                <span class="status-badge inactive">Inactive</span>
                            </td>
                            <td class="actions-cell">
                                <button class="action-btn" onclick="viewCustomerDetails('CUS-10237')" title="View Details">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="action-btn" onclick="contactCustomer('555-0126', 'call')" title="Call">
                                    <i class="fas fa-phone"></i>
                                </button>
                                <button class="action-btn" onclick="sendReactivationOffer('CUS-10237')" title="Send Win-back Offer">
                                    <i class="fas fa-redo"></i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            <div class="pagination-container">
                <div class="pagination-info">
                    Showing 1-10 of 12,847 customers
                </div>
                <div class="pagination">
                    <button class="page-btn" disabled>
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="page-btn active">1</button>
                    <button class="page-btn">2</button>
                    <button class="page-btn">3</button>
                    <span class="page-dots">...</span>
                    <button class="page-btn">1285</button>
                    <button class="page-btn">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Customer Details Modal -->
    <div class="modal" id="customerDetailsModal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>Customer Details - Sarah Johnson</h3>
                <button class="close-modal" onclick="closeModal('customerDetailsModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="customer-detail-grid">
                    <!-- Profile Section -->
                    <div class="detail-section">
                        <div class="customer-profile">
                            <img src="https://ui-avatars.com/api/?name=Sarah+Johnson&background=FF9800&color=fff&size=80" alt="Customer">
                            <div class="profile-info">
                                <h4>Sarah Johnson</h4>
                                <span class="customer-id">#CUS-10234</span>
                                <div class="customer-badges">
                                    <span class="vip-badge"><i class="fas fa-crown"></i> VIP</span>
                                    <span class="loyalty-badge"><i class="fas fa-award"></i> Gold Member</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="detail-row">
                            <span class="label">Member Since:</span>
                            <span class="value">Jan 15, 2023</span>
                        </div>
                        <div class="detail-row">
                            <span class="label">Total Orders:</span>
                            <span class="value">45</span>
                        </div>
                        <div class="detail-row">
                            <span class="label">Total Spent:</span>
                            <span class="value">$2,340.50</span>
                        </div>
                        <div class="detail-row">
                            <span class="label">Loyalty Points:</span>
                            <span class="value">2,340 pts</span>
                        </div>
                    </div>
                    
                    <!-- Contact Section -->
                    <div class="detail-section">
                        <h4>Contact Information</h4>
                        <div class="detail-row">
                            <span class="label">Phone:</span>
                            <span class="value">555-0123</span>
                        </div>
                        <div class="detail-row">
                            <span class="label">Email:</span>
                            <span class="value">sarah.j@email.com</span>
                        </div>
                        <div class="detail-row">
                            <span class="label">Primary Address:</span>
                            <span class="value">123 Main St, Apt 4B<br>Boston, MA 02101</span>
                        </div>
                        <div class="detail-row">
                            <span class="label">Delivery Instructions:</span>
                            <span class="value">Leave at door, ring bell</span>
                        </div>
                    </div>
                    
                    <!-- Recent Orders -->
                    <div class="detail-section full-width">
                        <h4>Recent Orders</h4>
                        <div class="recent-orders-table">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Order ID</th>
                                        <th>Date</th>
                                        <th>Restaurant</th>
                                        <th>Amount</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>#ORD-2456</td>
                                        <td>Today, 2:30 PM</td>
                                        <td>Pizza Palace</td>
                                        <td>$45.99</td>
                                        <td><span class="status-pill delivered">Delivered</span></td>
                                    </tr>
                                    <tr>
                                        <td>#ORD-2398</td>
                                        <td>Jan 12, 2024</td>
                                        <td>Burger Joint</td>
                                        <td>$32.50</td>
                                        <td><span class="status-pill delivered">Delivered</span></td>
                                    </tr>
                                    <tr>
                                        <td>#ORD-2341</td>
                                        <td>Jan 8, 2024</td>
                                        <td>Sushi Express</td>
                                        <td>$67.80</td>
                                        <td><span class="status-pill delivered">Delivered</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Preferences -->
                    <div class="detail-section">
                        <h4>Preferences</h4>
                        <div class="preferences-list">
                            <div class="preference-item">
                                <i class="fas fa-heart"></i>
                                <span>Favorite Cuisines: Italian, Japanese</span>
                            </div>
                            <div class="preference-item">
                                <i class="fas fa-leaf"></i>
                                <span>Dietary: Vegetarian options</span>
                            </div>
                            <div class="preference-item">
                                <i class="fas fa-clock"></i>
                                <span>Usual Order Time: 6-8 PM</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Notes -->
                    <div class="detail-section">
                        <h4>Admin Notes</h4>
                        <textarea class="notes-field" placeholder="Add notes about this customer..."></textarea>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('customerDetailsModal')">Close</button>
                <button class="btn btn-primary" onclick="saveCustomerNotes()">Save Notes</button>
            </div>
        </div>
    </div>

    <script src="admin-customers.js"></script>
</body>
</html>
