<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SubCater Admin Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="admin-styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <i class="fas fa-utensils"></i>
                <span>SubCater Admin</span>
            </div>
            <button class="sidebar-toggle" onclick="toggleSidebar()">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        
        <nav class="sidebar-nav">
            <a href="#" class="nav-item active">
                <i class="fas fa-tachometer-alt"></i>
                <span>Dashboard</span>
            </a>
            <a href="admin-orders.html" class="nav-item">
                <i class="fas fa-shopping-cart"></i>
                <span>Orders</span>
                <span class="badge">12</span>
            </a>
            <a href="admin-restaurants.html" class="nav-item">
                <i class="fas fa-store"></i>
                <span>Restaurants</span>
            </a>
            <a href="admin-partners.html" class="nav-item">
                <i class="fas fa-motorcycle"></i>
                <span>Delivery Partners</span>
            </a>
            <a href="admin-customers.html" class="nav-item">
                <i class="fas fa-users"></i>
                <span>Customers</span>
            </a>
            <a href="admin-analytics.html" class="nav-item">
                <i class="fas fa-chart-bar"></i>
                <span>Analytics</span>
            </a>
            <a href="admin-settings.html" class="nav-item">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </a>
        </nav>
        
        <div class="sidebar-footer">
            <div class="admin-profile">
                <img src="https://ui-avatars.com/api/?name=Admin&background=FF9800&color=fff" alt="Admin">
                <div class="admin-info">
                    <span class="admin-name">John Admin</span>
                    <span class="admin-role">Super Admin</span>
                </div>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Top Bar -->
        <header class="topbar">
            <div class="topbar-left">
                <h1>Dashboard</h1>
                <span class="breadcrumb">Home / Dashboard</span>
            </div>
            
            <div class="topbar-right">
                <!-- Live Orders Indicator -->
                <div class="live-indicator">
                    <span class="pulse"></span>
                    <span>Live Orders: 23</span>
                </div>
                
                <!-- Quick Actions -->
                <button class="icon-btn" onclick="openQuickOrder()">
                    <i class="fas fa-plus"></i>
                </button>
                
                <!-- Notifications -->
                <div class="notification-wrapper">
                    <button class="icon-btn" onclick="toggleNotifications()">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">5</span>
                    </button>
                    
                    <div class="notification-dropdown" id="notificationDropdown">
                        <div class="notification-header">
                            <h3>Notifications</h3>
                            <a href="#">Mark all read</a>
                        </div>
                        <div class="notification-list">
                            <div class="notification-item unread">
                                <i class="fas fa-exclamation-circle text-warning"></i>
                                <div class="notification-content">
                                    <p>New order #2456 needs assignment</p>
                                    <span>2 minutes ago</span>
                                </div>
                            </div>
                            <div class="notification-item unread">
                                <i class="fas fa-user-plus text-info"></i>
                                <div class="notification-content">
                                    <p>New delivery partner registered</p>
                                    <span>15 minutes ago</span>
                                </div>
                            </div>
                            <div class="notification-item">
                                <i class="fas fa-store text-success"></i>
                                <div class="notification-content">
                                    <p>Restaurant "Pizza Palace" is now online</p>
                                    <span>1 hour ago</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Admin Menu -->
                <div class="admin-menu">
                    <button class="admin-btn" onclick="toggleAdminMenu()">
                        <img src="https://ui-avatars.com/api/?name=John+Admin&background=FF9800&color=fff" alt="Admin">
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    
                    <div class="admin-dropdown" id="adminDropdown">
                        <a href="#"><i class="fas fa-user"></i> Profile</a>
                        <a href="#"><i class="fas fa-cog"></i> Settings</a>
                        <a href="#"><i class="fas fa-sign-out-alt"></i> Logout</a>
                    </div>
                </div>
            </div>
        </header>

        <!-- Dashboard Content -->
        <div class="dashboard-content">
            <!-- Stats Cards -->
            <div class="stats-grid">
                <div class="stat-card primary">
                    <div class="stat-icon">
                        <i class="fas fa-shopping-cart"></i>
                    </div>
                    <div class="stat-content">
                        <h3>Total Orders</h3>
                        <div class="stat-value">2,093</div>
                        <div class="stat-change positive">
                            <i class="fas fa-arrow-up"></i>
                            <span>12% from last month</span>
                        </div>
                    </div>
                </div>
                
                <div class="stat-card success">
                    <div class="stat-icon">
                        <i class="fas fa-dollar-sign"></i>
                    </div>
                    <div class="stat-content">
                        <h3>Revenue</h3>
                        <div class="stat-value">$45,231</div>
                        <div class="stat-change positive">
                            <i class="fas fa-arrow-up"></i>
                            <span>8% from last month</span>
                        </div>
                    </div>
                </div>
                
                <div class="stat-card warning">
                    <div class="stat-icon">
                        <i class="fas fa-store"></i>
                    </div>
                    <div class="stat-content">
                        <h3>Active Restaurants</h3>
                        <div class="stat-value">28/33</div>
                        <div class="stat-change">
                            <i class="fas fa-circle text-success"></i>
                            <span>5 offline</span>
                        </div>
                    </div>
                </div>
                
                <div class="stat-card info">
                    <div class="stat-icon">
                        <i class="fas fa-motorcycle"></i>
                    </div>
                    <div class="stat-content">
                        <h3>Active Riders</h3>
                        <div class="stat-value">45/62</div>
                        <div class="stat-change">
                            <i class="fas fa-circle text-success"></i>
                            <span>73% available</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Charts Row -->
            <div class="charts-row">
                <!-- Revenue Chart -->
                <div class="chart-card">
                    <div class="card-header">
                        <h3>Revenue Overview</h3>
                        <div class="chart-controls">
                            <button class="period-btn active">Week</button>
                            <button class="period-btn">Month</button>
                            <button class="period-btn">Year</button>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="revenueChart"></canvas>
                    </div>
                </div>
                
                <!-- Order Status Chart -->
                <div class="chart-card small">
                    <div class="card-header">
                        <h3>Order Status</h3>
                        <span class="subtitle">Today</span>
                    </div>
                    <div class="chart-container">
                        <canvas id="orderStatusChart"></canvas>
                    </div>
                    <div class="chart-legend">
                        <div class="legend-item">
                            <span class="dot delivered"></span>
                            <span>Delivered (145)</span>
                        </div>
                        <div class="legend-item">
                            <span class="dot preparing"></span>
                            <span>Preparing (23)</span>
                        </div>
                        <div class="legend-item">
                            <span class="dot pending"></span>
                            <span>Pending (12)</span>
                        </div>
                        <div class="legend-item">
                            <span class="dot cancelled"></span>
                            <span>Cancelled (5)</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Live Orders Section -->
            <div class="section-card">
                <div class="section-header">
                    <h3>Live Orders</h3>
                    <div class="section-actions">
                        <button class="btn-text" onclick="viewAllOrders()">
                            View All <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
                
                <div class="live-orders-grid">
                    <!-- Order Card 1 -->
                    <div class="order-card pending">
                        <div class="order-header">
                            <span class="order-id">#ORD-2456</span>
                            <span class="order-time">2 min ago</span>
                        </div>
                        <div class="order-customer">
                            <i class="fas fa-user"></i>
                            <span>Sarah Johnson</span>
                            <button class="btn-icon-sm" onclick="callCustomer('555-0123')">
                                <i class="fas fa-phone"></i>
                            </button>
                        </div>
                        <div class="order-restaurant">
                            <i class="fas fa-store"></i>
                            <span>Pizza Palace</span>
                        </div>
                        <div class="order-amount">
                            <span class="label">Amount:</span>
                            <span class="value">$45.99</span>
                        </div>
                        <div class="order-status">
                            <span class="status-badge pending">Pending Assignment</span>
                        </div>
                        <div class="order-actions">
                            <button class="btn btn-primary" onclick="assignOrder('2456')">
                                <i class="fas fa-user-plus"></i> Assign
                            </button>
                            <button class="btn btn-secondary" onclick="viewOrderDetails('2456')">
                                <i class="fas fa-eye"></i> View
                            </button>
                        </div>
                    </div>
                    
                    <!-- Order Card 2 -->
                    <div class="order-card preparing">
                        <div class="order-header">
                            <span class="order-id">#ORD-2455</span>
                            <span class="order-time">15 min ago</span>
                        </div>
                        <div class="order-customer">
                            <i class="fas fa-user"></i>
                            <span>Mike Chen</span>
                            <button class="btn-icon-sm" onclick="callCustomer('555-0124')">
                                <i class="fas fa-phone"></i>
                            </button>
                        </div>
                        <div class="order-restaurant">
                            <i class="fas fa-store"></i>
                            <span>Burger Joint</span>
                        </div>
                        <div class="order-rider">
                            <i class="fas fa-motorcycle"></i>
                            <span>John Rider</span>
                            <button class="btn-icon-sm" onclick="trackRider('123')">
                                <i class="fas fa-map-marker-alt"></i>
                            </button>
                        </div>
                        <div class="order-amount">
                            <span class="label">Amount:</span>
                            <span class="value">$28.50</span>
                        </div>
                        <div class="order-status">
                            <span class="status-badge preparing">Preparing</span>
                            <div class="progress-bar">
                                <div class="progress" style="width: 60%"></div>
                            </div>
                        </div>
                        <div class="order-actions">
                            <button class="btn btn-secondary" onclick="updateOrderStatus('2455')">
                                <i class="fas fa-sync"></i> Update
                            </button>
                            <button class="btn btn-secondary" onclick="viewOrderDetails('2455')">
                                <i class="fas fa-eye"></i> View
                            </button>
                        </div>
                    </div>
                    
                    <!-- Order Card 3 -->
                    <div class="order-card on-way">
                        <div class="order-header">
                            <span class="order-id">#ORD-2454</span>
                            <span class="order-time">25 min ago</span>
                        </div>
                        <div class="order-customer">
                            <i class="fas fa-user"></i>
                            <span>Emma Wilson</span>
                            <button class="btn-icon-sm" onclick="callCustomer('555-0125')">
                                <i class="fas fa-phone"></i>
                            </button>
                        </div>
                        <div class="order-restaurant">
                            <i class="fas fa-store"></i>
                            <span>Sushi Express</span>
                        </div>
                        <div class="order-rider">
                            <i class="fas fa-motorcycle"></i>
                            <span>David Smith</span>
                            <button class="btn-icon-sm" onclick="trackRider('124')">
                                <i class="fas fa-map-marker-alt"></i>
                            </button>
                        </div>
                        <div class="order-amount">
                            <span class="label">Amount:</span>
                            <span class="value">$67.80</span>
                        </div>
                        <div class="order-status">
                            <span class="status-badge on-way">On the Way</span>
                            <div class="eta">ETA: 10 min</div>
                        </div>
                        <div class="order-actions">
                            <button class="btn btn-success" onclick="trackOrder('2454')">
                                <i class="fas fa-map"></i> Track
                            </button>
                            <button class="btn btn-secondary" onclick="viewOrderDetails('2454')">
                                <i class="fas fa-eye"></i> View
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions Grid -->
            <div class="quick-actions-section">
                <h3>Quick Actions</h3>
                <div class="quick-actions-grid">
                    <button class="quick-action-card" onclick="createNewOrder()">
                        <i class="fas fa-plus-circle"></i>
                        <span>New Order</span>
                    </button>
                    <button class="quick-action-card" onclick="manageRestaurants()">
                        <i class="fas fa-store"></i>
                        <span>Manage Restaurants</span>
                    </button>
                    <button class="quick-action-card" onclick="manageRiders()">
                        <i class="fas fa-motorcycle"></i>
                        <span>Manage Riders</span>
                    </button>
                    <button class="quick-action-card" onclick="viewReports()">
                        <i class="fas fa-chart-bar"></i>
                        <span>View Reports</span>
                    </button>
                    <button class="quick-action-card" onclick="broadcastMessage()">
                        <i class="fas fa-bullhorn"></i>
                        <span>Broadcast</span>
                    </button>
                    <button class="quick-action-card" onclick="systemSettings()">
                        <i class="fas fa-cog"></i>
                        <span>Settings</span>
                    </button>
                </div>
            </div>

            <!-- Activity Feed & Top Performers -->
            <div class="bottom-row">
                <!-- Recent Activity -->
                <div class="activity-card">
                    <div class="card-header">
                        <h3>Recent Activity</h3>
                        <button class="btn-text">View All</button>
                    </div>
                    <div class="activity-list">
                        <div class="activity-item">
                            <div class="activity-icon success">
                                <i class="fas fa-check"></i>
                            </div>
                            <div class="activity-content">
                                <p>Order #2453 delivered successfully</p>
                                <span>5 minutes ago</span>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon warning">
                                <i class="fas fa-exclamation"></i>
                            </div>
                            <div class="activity-content">
                                <p>Restaurant "Taco Bell" went offline</p>
                                <span>12 minutes ago</span>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon info">
                                <i class="fas fa-user-plus"></i>
                            </div>
                            <div class="activity-content">
                                <p>New rider "Alex Kumar" registered</p>
                                <span>30 minutes ago</span>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon danger">
                                <i class="fas fa-times"></i>
                            </div>
                            <div class="activity-content">
                                <p>Order #2451 cancelled by customer</p>
                                <span>45 minutes ago</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Top Performers -->
                <div class="performers-card">
                    <div class="card-header">
                        <h3>Top Performers</h3>
                        <select class="period-select">
                            <option>Today</option>
                            <option>This Week</option>
                            <option>This Month</option>
                        </select>
                    </div>
                    <div class="performers-tabs">
                        <button class="tab-btn active" onclick="switchPerformerTab('restaurants')">Restaurants</button>
                        <button class="tab-btn" onclick="switchPerformerTab('riders')">Riders</button>
                    </div>
                    <div class="performers-list" id="restaurantsList">
                        <div class="performer-item">
                            <span class="rank">1</span>
                            <div class="performer-info">
                                <span class="name">Pizza Palace</span>
                                <span class="metric">45 orders</span>
                            </div>
                            <div class="performer-stats">
                                <span class="revenue">$2,340</span>
                                <span class="rating"><i class="fas fa-star"></i> 4.8</span>
                            </div>
                        </div>
                        <div class="performer-item">
                            <span class="rank">2</span>
                            <div class="performer-info">
                                <span class="name">Burger Joint</span>
                                <span class="metric">38 orders</span>
                            </div>
                            <div class="performer-stats">
                                <span class="revenue">$1,890</span>
                                <span class="rating"><i class="fas fa-star"></i> 4.7</span>
                            </div>
                        </div>
                        <div class="performer-item">
                            <span class="rank">3</span>
                            <div class="performer-info">
                                <span class="name">Sushi Express</span>
                                <span class="metric">32 orders</span>
                            </div>
                            <div class="performer-stats">
                                <span class="revenue">$2,150</span>
                                <span class="rating"><i class="fas fa-star"></i> 4.9</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Assign Order Modal -->
    <div class="modal" id="assignOrderModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Assign Order #2456</h3>
                <button class="close-modal" onclick="closeModal('assignOrderModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="assign-section">
                    <h4>Select Delivery Partner</h4>
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="Search riders..." id="riderSearch">
                    </div>
                    <div class="riders-list">
                        <label class="rider-option">
                            <input type="radio" name="rider" value="123">
                            <div class="rider-info">
                                <span class="rider-name">John Rider</span>
                                <span class="rider-status online">Online • 2km away</span>
                                <div class="rider-stats">
                                    <span><i class="fas fa-star"></i> 4.8</span>
                                    <span>Current orders: 1</span>
                                </div>
                            </div>
                        </label>
                        <label class="rider-option">
                            <input type="radio" name="rider" value="124">
                            <div class="rider-info">
                                <span class="rider-name">David Smith</span>
                                <span class="rider-status online">Online • 3km away</span>
                                <div class="rider-stats">
                                    <span><i class="fas fa-star"></i> 4.6</span>
                                    <span>Current orders: 2</span>
                                </div>
                            </div>
                        </label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('assignOrderModal')">Cancel</button>
                <button class="btn btn-primary" onclick="confirmAssignment()">Assign Order</button>
            </div>
        </div>
    </div>

    <script src="admin-dashboard.js"></script>
</body>
</html>
