<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <title>SubCater Admin - Mobile</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="admin-mobile.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Mobile Header -->
    <header class="mobile-header">
        <button class="menu-btn" onclick="toggleMobileMenu()">
            <i class="fas fa-bars"></i>
        </button>
        
        <div class="header-title">
            <h1>Dashboard</h1>
            <div class="live-indicator">
                <span class="pulse"></span>
                <span>23 Live</span>
            </div>
        </div>
        
        <div class="header-actions">
            <button class="icon-btn" onclick="toggleNotifications()">
                <i class="fas fa-bell"></i>
                <span class="badge">5</span>
            </button>
        </div>
    </header>

    <!-- Mobile Sidebar -->
    <div class="mobile-sidebar" id="mobileSidebar">
        <div class="sidebar-overlay" onclick="closeMobileMenu()"></div>
        <div class="sidebar-content">
            <div class="sidebar-header">
                <div class="admin-info">
                    <img src="https://ui-avatars.com/api/?name=John+Admin&background=FF9800&color=fff" alt="Admin">
                    <div>
                        <h3>John Admin</h3>
                        <span>Super Admin</span>
                    </div>
                </div>
                <button class="close-btn" onclick="closeMobileMenu()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <nav class="mobile-nav">
                <a href="#" class="nav-item active">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
                <a href="admin-mobile-orders.html" class="nav-item">
                    <i class="fas fa-shopping-cart"></i>
                    <span>Orders</span>
                    <span class="nav-badge">12</span>
                </a>
                <a href="admin-mobile-restaurants.html" class="nav-item">
                    <i class="fas fa-store"></i>
                    <span>Restaurants</span>
                </a>
                <a href="admin-mobile-partners.html" class="nav-item">
                    <i class="fas fa-motorcycle"></i>
                    <span>Delivery Partners</span>
                </a>
                <a href="admin-mobile-customers.html" class="nav-item">
                    <i class="fas fa-users"></i>
                    <span>Customers</span>
                </a>
                <a href="admin-mobile-analytics.html" class="nav-item">
                    <i class="fas fa-chart-bar"></i>
                    <span>Analytics</span>
                </a>
                <a href="admin-mobile-settings.html" class="nav-item">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
            </nav>
            
            <div class="sidebar-footer">
                <button class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Notifications Drawer -->
    <div class="notifications-drawer" id="notificationsDrawer">
        <div class="drawer-overlay" onclick="closeNotifications()"></div>
        <div class="drawer-content">
            <div class="drawer-header">
                <h3>Notifications</h3>
                <button class="close-btn" onclick="closeNotifications()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="notification-list">
                <div class="notification-item unread">
                    <div class="notification-icon warning">
                        <i class="fas fa-exclamation-circle"></i>
                    </div>
                    <div class="notification-content">
                        <p>New order #2456 needs assignment</p>
                        <span>2 minutes ago</span>
                    </div>
                </div>
                <div class="notification-item unread">
                    <div class="notification-icon info">
                        <i class="fas fa-user-plus"></i>
                    </div>
                    <div class="notification-content">
                        <p>New delivery partner registered</p>
                        <span>15 minutes ago</span>
                    </div>
                </div>
                <div class="notification-item">
                    <div class="notification-icon success">
                        <i class="fas fa-check"></i>
                    </div>
                    <div class="notification-content">
                        <p>Order #2453 delivered successfully</p>
                        <span>1 hour ago</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="mobile-content">
        <!-- Stats Cards -->
        <div class="stats-scroll">
            <div class="stat-card primary">
                <div class="stat-header">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="stat-label">Total Orders</span>
                </div>
                <div class="stat-value">2,093</div>
                <div class="stat-change positive">
                    <i class="fas fa-arrow-up"></i>
                    <span>12%</span>
                </div>
            </div>
            
            <div class="stat-card success">
                <div class="stat-header">
                    <i class="fas fa-dollar-sign"></i>
                    <span class="stat-label">Revenue</span>
                </div>
                <div class="stat-value">$45.2K</div>
                <div class="stat-change positive">
                    <i class="fas fa-arrow-up"></i>
                    <span>8%</span>
                </div>
            </div>
            
            <div class="stat-card warning">
                <div class="stat-header">
                    <i class="fas fa-store"></i>
                    <span class="stat-label">Active</span>
                </div>
                <div class="stat-value">28/33</div>
                <div class="stat-change">
                    <i class="fas fa-circle"></i>
                    <span>85%</span>
                </div>
            </div>
            
            <div class="stat-card info">
                <div class="stat-header">
                    <i class="fas fa-motorcycle"></i>
                    <span class="stat-label">Riders</span>
                </div>
                <div class="stat-value">45/62</div>
                <div class="stat-change">
                    <i class="fas fa-circle"></i>
                    <span>73%</span>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <section class="section">
            <h2 class="section-title">Quick Actions</h2>
            <div class="quick-actions">
                <button class="quick-action" onclick="createNewOrder()">
                    <i class="fas fa-plus"></i>
                    <span>New Order</span>
                </button>
                <button class="quick-action" onclick="manageRestaurants()">
                    <i class="fas fa-store"></i>
                    <span>Restaurants</span>
                </button>
                <button class="quick-action" onclick="manageRiders()">
                    <i class="fas fa-motorcycle"></i>
                    <span>Riders</span>
                </button>
                <button class="quick-action" onclick="viewReports()">
                    <i class="fas fa-chart-bar"></i>
                    <span>Reports</span>
                </button>
            </div>
        </section>

        <!-- Revenue Chart -->
        <section class="section">
            <div class="section-header">
                <h2 class="section-title">Revenue</h2>
                <select class="period-select" onchange="updateChart(this.value)">
                    <option value="week">Week</option>
                    <option value="month">Month</option>
                    <option value="year">Year</option>
                </select>
            </div>
            <div class="chart-container">
                <canvas id="mobileRevenueChart"></canvas>
            </div>
        </section>

        <!-- Live Orders -->
        <section class="section">
            <div class="section-header">
                <h2 class="section-title">Live Orders</h2>
                <a href="admin-mobile-orders.html" class="view-all">View All</a>
            </div>
            
            <div class="orders-list">
                <!-- Order Card 1 -->
                <div class="order-card pending">
                    <div class="order-header">
                        <span class="order-id">#2456</span>
                        <span class="order-time">2 min ago</span>
                    </div>
                    <div class="order-details">
                        <div class="order-info">
                            <i class="fas fa-user"></i>
                            <span>Sarah Johnson</span>
                        </div>
                        <div class="order-info">
                            <i class="fas fa-store"></i>
                            <span>Pizza Palace</span>
                        </div>
                    </div>
                    <div class="order-footer">
                        <span class="order-amount">$45.99</span>
                        <div class="order-actions">
                            <button class="action-btn call" onclick="callCustomer('555-0123')">
                                <i class="fas fa-phone"></i>
                            </button>
                            <button class="action-btn assign" onclick="assignOrder('2456')">
                                <i class="fas fa-user-plus"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Order Card 2 -->
                <div class="order-card preparing">
                    <div class="order-header">
                        <span class="order-id">#2455</span>
                        <span class="order-time">15 min ago</span>
                    </div>
                    <div class="order-details">
                        <div class="order-info">
                            <i class="fas fa-user"></i>
                            <span>Mike Chen</span>
                        </div>
                        <div class="order-info">
                            <i class="fas fa-motorcycle"></i>
                            <span>John Rider</span>
                        </div>
                    </div>
                    <div class="order-footer">
                        <span class="order-amount">$28.50</span>
                        <div class="order-actions">
                            <button class="action-btn track" onclick="trackOrder('2455')">
                                <i class="fas fa-map-marker-alt"></i>
                            </button>
                            <button class="action-btn view" onclick="viewOrder('2455')">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    <div class="order-progress">
                        <div class="progress-bar">
                            <div class="progress" style="width: 60%"></div>
                        </div>
                    </div>
                </div>

                <!-- Order Card 3 -->
                <div class="order-card on-way">
                    <div class="order-header">
                        <span class="order-id">#2454</span>
                        <span class="order-time">25 min ago</span>
                    </div>
                    <div class="order-details">
                        <div class="order-info">
                            <i class="fas fa-user"></i>
                            <span>Emma Wilson</span>
                        </div>
                        <div class="order-info">
                            <i class="fas fa-clock"></i>
                            <span>ETA: 10 min</span>
                        </div>
                    </div>
                    <div class="order-footer">
                        <span class="order-amount">$67.80</span>
                        <div class="order-actions">
                            <button class="action-btn track active" onclick="trackOrder('2454')">
                                <i class="fas fa-map"></i>
                            </button>
                            <button class="action-btn view" onclick="viewOrder('2454')">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Top Performers -->
        <section class="section">
            <div class="section-header">
                <h2 class="section-title">Top Performers</h2>
                <div class="tab-switcher">
                    <button class="tab active" onclick="switchTab('restaurants')">Restaurants</button>
                    <button class="tab" onclick="switchTab('riders')">Riders</button>
                </div>
            </div>
            
            <div class="performers-list" id="performersList">
                <div class="performer-item">
                    <span class="rank">1</span>
                    <div class="performer-info">
                        <h4>Pizza Palace</h4>
                        <span>45 orders • $2,340</span>
                    </div>
                    <div class="performer-rating">
                        <i class="fas fa-star"></i>
                        <span>4.8</span>
                    </div>
                </div>
                <div class="performer-item">
                    <span class="rank">2</span>
                    <div class="performer-info">
                        <h4>Burger Joint</h4>
                        <span>38 orders • $1,890</span>
                    </div>
                    <div class="performer-rating">
                        <i class="fas fa-star"></i>
                        <span>4.7</span>
                    </div>
                </div>
                <div class="performer-item">
                    <span class="rank">3</span>
                    <div class="performer-info">
                        <h4>Sushi Express</h4>
                        <span>32 orders • $2,150</span>
                    </div>
                    <div class="performer-rating">
                        <i class="fas fa-star"></i>
                        <span>4.9</span>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Floating Action Button -->
    <button class="fab" onclick="showQuickActions()">
        <i class="fas fa-plus"></i>
    </button>

    <!-- Quick Actions Sheet -->
    <div class="action-sheet" id="actionSheet">
        <div class="sheet-overlay" onclick="hideQuickActions()"></div>
        <div class="sheet-content">
            <div class="sheet-header">
                <h3>Quick Actions</h3>
                <button class="close-btn" onclick="hideQuickActions()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="sheet-actions">
                <button class="sheet-action" onclick="createNewOrder()">
                    <i class="fas fa-plus-circle"></i>
                    <span>Create New Order</span>
                </button>
                <button class="sheet-action" onclick="broadcastMessage()">
                    <i class="fas fa-bullhorn"></i>
                    <span>Send Broadcast</span>
                </button>
                <button class="sheet-action" onclick="toggleRestaurantStatus()">
                    <i class="fas fa-toggle-on"></i>
                    <span>Toggle Restaurant Status</span>
                </button>
                <button class="sheet-action" onclick="viewEmergencyContacts()">
                    <i class="fas fa-phone-alt"></i>
                    <span>Emergency Contacts</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Assign Order Modal -->
    <div class="mobile-modal" id="assignModal">
        <div class="modal-overlay" onclick="closeAssignModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Assign Order #2456</h3>
                <button class="close-btn" onclick="closeAssignModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search riders...">
                </div>
                
                <div class="riders-list">
                    <label class="rider-option">
                        <input type="radio" name="rider" value="123">
                        <div class="rider-details">
                            <div class="rider-info">
                                <h4>John Rider</h4>
                                <span class="status online">Online • 2km away</span>
                            </div>
                            <div class="rider-stats">
                                <span><i class="fas fa-star"></i> 4.8</span>
                                <span>1 order</span>
                            </div>
                        </div>
                    </label>
                    
                    <label class="rider-option">
                        <input type="radio" name="rider" value="124">
                        <div class="rider-details">
                            <div class="rider-info">
                                <h4>David Smith</h4>
                                <span class="status online">Online • 3km away</span>
                            </div>
                            <div class="rider-stats">
                                <span><i class="fas fa-star"></i> 4.6</span>
                                <span>2 orders</span>
                            </div>
                        </div>
                    </label>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" onclick="confirmAssignment()">
                    Assign Order
                </button>
            </div>
        </div>
    </div>

    <script src="admin-mobile.js"></script>
</body>
</html>
